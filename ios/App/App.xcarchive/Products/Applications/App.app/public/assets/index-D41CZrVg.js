const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BmfBOdm6.js","assets/motion-d9bwDdYN.js","assets/react-vendor-DoSVpXge.js","assets/icons-DTWWE7WE.js","assets/LogInput-BbhDQ8hC.js","assets/HistoryView-BB7haidf.js"])))=>i.map(i=>d[i]);
import{r as Ke,a as Ze}from"./react-vendor-DoSVpXge.js";import{r,m as c,A as L,R as Xe}from"./motion-d9bwDdYN.js";import{B as Se,U as Qe,S as et,A as tt,a as at,C as st,X as $,b as ne,M as it,W as rt,c as nt,T as ke,d as lt,O as ot,e as ct,f as Ee,Z as Te,g as dt,h as mt,i as G,F as ut,j as xt,k as ft,R as pt,P as ht,l as be,D as gt,L as bt,m as yt,n as wt,o as vt,H as jt}from"./icons-DTWWE7WE.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))o(x);new MutationObserver(x=>{for(const n of x)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(x){const n={};return x.integrity&&(n.integrity=x.integrity),x.referrerPolicy&&(n.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?n.credentials="include":x.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(x){if(x.ep)return;x.ep=!0;const n=i(x);fetch(x.href,n)}})();const Nt="modulepreload",St=function(t){return"/"+t},ye={},le=function(a,i,o){let x=Promise.resolve();if(i&&i.length>0){let h=function(b){return Promise.all(b.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),y=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));x=h(i.map(b=>{if(b=St(b),b in ye)return;ye[b]=!0;const g=b.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Nt,g||(w.as="script"),w.crossOrigin="",w.href=b,y&&w.setAttribute("nonce",y),document.head.appendChild(w),g)return new Promise((k,E)=>{w.addEventListener("load",k),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${b}`)))})}))}function n(h){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=h,window.dispatchEvent(l),!l.defaultPrevented)throw h}return x.then(h=>{for(const l of h||[])l.status==="rejected"&&n(l.reason);return a().catch(n)})};var ae={exports:{}},F={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we;function kt(){if(we)return F;we=1;var t=Ke(),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function h(l,y,b){var g,v={},w=null,k=null;b!==void 0&&(w=""+b),y.key!==void 0&&(w=""+y.key),y.ref!==void 0&&(k=y.ref);for(g in y)o.call(y,g)&&!n.hasOwnProperty(g)&&(v[g]=y[g]);if(l&&l.defaultProps)for(g in y=l.defaultProps,y)v[g]===void 0&&(v[g]=y[g]);return{$$typeof:a,type:l,key:w,ref:k,props:v,_owner:x.current}}return F.Fragment=i,F.jsx=h,F.jsxs=h,F}var ve;function Et(){return ve||(ve=1,ae.exports=kt()),ae.exports}var e=Et(),Y={},je;function Tt(){if(je)return Y;je=1;var t=Ze();return Y.createRoot=t.createRoot,Y.hydrateRoot=t.hydrateRoot,Y}var _t=Tt();const A={wearableBaselines:{sleep:7.5,rhr:65,hrv:50},manualTargets:{protein:80,gut:4,sun:"Full",exercise:"Medium"},streakLogic:{freezesAvailable:2,lastFreezeReset:new Date().toISOString()}},R={HISTORY:"flow_history_v4",CONFIG:"flow_config_v4",STAGE:"flow_stage_v4",USER:"flow_user_v4",NOTIFS:"flow_notifs_v4"},V=(t=new Date)=>{const a=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-a).toISOString().split("T")[0]},_=()=>{typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(10)},z=(t,a)=>{try{const i=localStorage.getItem(t);return i?JSON.parse(i):a}catch(i){return console.warn(`Flow: Storage reset for ${t}`,i),a}},I=(t,a)=>{try{localStorage.setItem(t,JSON.stringify(a))}catch(i){console.error("Flow: Storage write error",i)}},Rt=()=>{try{[R.HISTORY,R.CONFIG,R.STAGE,R.USER,R.NOTIFS,"last_upsell"].forEach(a=>localStorage.removeItem(a))}catch(t){console.warn("Flow: Storage clear issue",t)}},At=t=>{if(!t||typeof t!="object")return{...A};const a={...A};if(t.wearableBaselines&&typeof t.wearableBaselines=="object"){const i=t.wearableBaselines;a.wearableBaselines={sleep:typeof i.sleep=="number"&&i.sleep>=0&&i.sleep<=24?i.sleep:A.wearableBaselines.sleep,rhr:typeof i.rhr=="number"&&i.rhr>=30&&i.rhr<=200?i.rhr:A.wearableBaselines.rhr,hrv:typeof i.hrv=="number"&&i.hrv>=10&&i.hrv<=200?i.hrv:A.wearableBaselines.hrv}}if(t.manualTargets&&typeof t.manualTargets=="object"){const i=t.manualTargets;a.manualTargets={protein:typeof i.protein=="number"&&i.protein>=0&&i.protein<=500?i.protein:A.manualTargets.protein,gut:typeof i.gut=="number"&&i.gut>=1&&i.gut<=5?i.gut:A.manualTargets.gut,sun:["Full","Partial","None"].includes(i.sun)?i.sun:A.manualTargets.sun,exercise:["Hard","Medium","Light","None"].includes(i.exercise)?i.exercise:A.manualTargets.exercise}}if(t.streakLogic&&typeof t.streakLogic=="object"){const i=t.streakLogic;a.streakLogic={freezesAvailable:typeof i.freezesAvailable=="number"&&i.freezesAvailable>=0&&i.freezesAvailable<=5?i.freezesAvailable:A.streakLogic.freezesAvailable,lastFreezeReset:typeof i.lastFreezeReset=="string"&&!isNaN(new Date(i.lastFreezeReset).getTime())?i.lastFreezeReset:A.streakLogic.lastFreezeReset}}return a},Ct=t=>Array.isArray(t)?t.filter(validateNotification).slice(0,10):[],It=()=>{try{const t=z(R.NOTIFS,[]);return Ct(t)}catch(t){return console.error("Failed to load notifications:",t),[]}},_e=()=>z("notification_analytics",{totalShown:0,totalDismissed:0,totalRead:0,typeBreakdown:{AI:{shown:0,dismissed:0,read:0},SYSTEM:{shown:0,dismissed:0,read:0},STREAK:{shown:0,dismissed:0,read:0},FREEZE:{shown:0,dismissed:0,read:0}},avgTimeToDismiss:0,lastUpdated:new Date().toISOString()}),Ot=t=>{try{const a=_e();a.totalShown++,a.typeBreakdown[t].shown++,a.lastUpdated=new Date().toISOString(),I("notification_analytics",a)}catch(a){console.warn("Failed to track notification shown:",a)}},se=t=>{try{const a=_e();a.totalDismissed++,a.typeBreakdown[t].dismissed++,a.lastUpdated=new Date().toISOString(),I("notification_analytics",a)}catch(a){console.warn("Failed to track notification dismissed:",a)}},Xt=(t,a,i=!1)=>{if(!isFinite(t)||!isFinite(a)||a===0)return"RED";const o=i?a/t:t/a;return isFinite(o)?o>=.95?"GREEN":o>=.8?"YELLOW":"RED":"RED"},Dt=(t,a)=>({date:t,isSystemGenerated:!0,symptomName:"Cryostasis Protocol",symptomScore:1,rawValues:{sleep:9.5,rhr:a.rhr+8,hrv:a.hrv-15,protein:40,gut:2,sun:"None",exercise:"None",cognition:"FROZEN"},processedState:{sleep:"YELLOW",rhr:"YELLOW",hrv:"RED",protein:"RED",gut:"RED",sun:"RED",exercise:"RED"}}),zt=()=>{const t=[],a=new Date,i=["PEAK","STEADY","FOGGY","DRAINED"];for(let o=13;o>=0;o--){const x=new Date(a);x.setDate(x.getDate()-o);const n=V(x),l=7+Math.random()*1.5-.5,b=Math.floor(60+Math.random()*10-2),v=Math.floor(55+Math.random()*20-10),w=Math.floor(70+Math.random()*40),k={sleep:l>7.2?"GREEN":l>6?"YELLOW":"RED",rhr:b<65?"GREEN":"YELLOW",hrv:v>50?"GREEN":"YELLOW",protein:w>80?"GREEN":"YELLOW",gut:Math.random()>.3?"GREEN":"YELLOW",sun:Math.random()>.5?"GREEN":"YELLOW",exercise:Math.random()>.4?"GREEN":"YELLOW"};let E=1;l>7.5&&v>60?E=0:l<6?E=3:Math.random()>.7&&(E=2),t.push({date:n,rawValues:{sleep:Number(l.toFixed(1)),rhr:b,hrv:v,protein:w,gut:Math.random()>.5?4:3,sun:Math.random()>.5?"Full":"Partial",exercise:Math.random()>.6?"Hard":"Medium",cognition:i[E]},processedState:k,symptomScore:Math.floor(1+Math.random()*2),symptomName:o%3===0?"High Flow":o%2===0?"Recovery":"Baseline"})}return t},Ne=r.memo(()=>e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0 backface-hidden","aria-hidden":"true",children:[e.jsx("div",{className:"absolute inset-0 z-[1] opacity-[0.03] pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}}),e.jsx(c.div,{initial:{x:0,y:0,scale:1},animate:{x:[0,10,0],y:[0,15,0],scale:[1,1.05,1]},transition:{duration:40,repeat:1/0,ease:"easeInOut"},style:{willChange:"transform"},className:"absolute top-[-10%] left-[-10%] w-[120vw] h-[120vw] bg-teal-500/[0.03] blur-[100px] rounded-full transform-gpu"})]})),oe=r.memo(({className:t="w-10 h-10"})=>e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"flowGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),e.jsx("stop",{offset:"50%",stopColor:"#818cf8"}),e.jsx("stop",{offset:"100%",stopColor:"#d946ef"})]}),e.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[e.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),e.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})]}),e.jsx("path",{d:"M30 70C30 70 20 80 35 85C50 90 60 75 60 75L75 40C75 40 85 15 65 15C45 15 40 35 40 35L30 60C30 60 25 75 45 75C65 75 80 50 80 50",stroke:"url(#flowGrad)",strokeWidth:"12",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)"}),e.jsx("circle",{cx:"72",cy:"22",r:"6",fill:"#fff",fillOpacity:"0.9"})]})),Lt=r.memo(({user:t,unreadCount:a,onOpenNotifs:i,onOpenProfile:o})=>e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-[#020617]/80 backdrop-blur-xl border-b border-white/5 transition-all duration-300",style:{paddingTop:"max(12px, env(safe-area-inset-top))"},children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-3 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl md:rounded-[14px] bg-white/5 flex items-center justify-center shadow-lg border border-white/5",children:e.jsx(oe,{className:"w-full h-full p-1.5"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-black font-outfit tracking-tighter bg-gradient-to-r from-white via-teal-100 to-teal-400 bg-clip-text text-transparent drop-shadow-sm",children:"Flow"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:i,"aria-label":"Notifications",className:"w-11 h-11 md:w-14 md:h-14 glass rounded-xl md:rounded-[14px] flex items-center justify-center relative border-white/10 active:scale-90 transition-all hover:bg-white/5 touch-manipulation",children:[e.jsx(Se,{size:20,className:"text-white/80"}),a>0&&e.jsxs("span",{className:"absolute top-2.5 right-2.5 flex h-2.5 w-2.5",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-teal-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-teal-500 border border-[#020617]"})]})]}),e.jsxs("button",{onClick:o,"aria-label":"Profile",className:"w-11 h-11 md:w-14 md:h-14 glass rounded-xl md:rounded-[14px] border-white/10 overflow-hidden p-0.5 active:scale-90 transition-all hover:bg-white/5 touch-manipulation relative",children:[e.jsx("div",{className:"w-full h-full rounded-[10px] bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center overflow-hidden",children:t.picture?e.jsx("img",{src:t.picture,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx(Qe,{size:18,className:"text-white"})}),t.isPremium&&e.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-amber-500 rounded-full border-2 border-[#020617] shadow-[0_0_10px_#f59e0b]"})]})]})]})})),Pt=r.memo(({notification:t,onDismiss:a})=>(r.useEffect(()=>{const i=o=>{o.key==="Escape"&&t&&(se(t.type),a())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t,a]),r.useEffect(()=>{if(t){const i=setTimeout(()=>{se(t.type),a()},3500);return()=>clearTimeout(i)}},[t,a]),e.jsx(L,{children:t&&e.jsx(c.div,{initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-100,scale:.9},transition:{type:"spring",stiffness:400,damping:30},className:"fixed top-24 left-0 right-0 z-[100] flex justify-center px-4 pointer-events-none",children:e.jsxs(c.div,{drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:{top:.1,bottom:.1},onDragEnd:(i,o)=>{Math.abs(o.offset.y)>80&&(t&&se(t.type),_(),a())},className:"bg-[#0a1128]/90 backdrop-blur-md border border-teal-500/30 text-white px-5 py-3 rounded-2xl shadow-[0_10px_40px_-10px_rgba(0,0,0,0.5)] flex items-center gap-4 max-w-sm w-full pointer-events-auto cursor-grab active:cursor-grabbing",children:[e.jsx("div",{className:`
              w-10 h-10 rounded-xl flex items-center justify-center shrink-0
              ${t.type==="AI"?"bg-indigo-500/20 text-indigo-400":t.type==="STREAK"?"bg-amber-500/20 text-amber-500":t.type==="FREEZE"?"bg-cyan-500/20 text-cyan-400":"bg-emerald-500/20 text-emerald-400"}
            `,children:t.type==="AI"?e.jsx(et,{size:20}):t.type==="STREAK"?e.jsx(tt,{size:20}):t.type==="FREEZE"?e.jsx(at,{size:20}):e.jsx(st,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-sm font-outfit truncate",children:t.title}),e.jsx("p",{className:"text-xs text-white/50 truncate",children:t.message})]})]})})}))),Ft=r.memo(({config:t,onSave:a,onClose:i})=>{const[o,x]=r.useState(JSON.parse(JSON.stringify(t))),n=(l,y,b)=>{let g=parseFloat(b);if(isNaN(g)||!isFinite(g))return;const w={sleep:{min:4,max:12},rhr:{min:40,max:120},hrv:{min:20,max:150},protein:{min:20,max:300}}[y];w&&(g=Math.min(w.max,Math.max(w.min,g))),x(k=>({...k,[l]:{...k[l],[y]:g}}))},h=()=>{a(o),i()};return e.jsxs(c.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[450] bg-[#020617] flex flex-col pt-safe",children:[e.jsxs("div",{className:"w-full max-w-2xl mx-auto px-6 py-5 flex justify-between items-center border-b border-white/5 bg-[#020617]/95 backdrop-blur-xl z-20 shrink-0",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-black font-outfit tracking-tighter",children:"Calibration"}),e.jsx("button",{onClick:i,className:"w-10 h-10 md:w-12 md:h-12 glass rounded-xl flex items-center justify-center text-white/50 active:scale-95 touch-manipulation",children:e.jsx($,{size:20})})]}),e.jsxs("div",{className:"flex-1 w-full max-w-2xl mx-auto overflow-y-auto px-6 py-6 space-y-8 pb-32",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-teal-500/10 flex items-center justify-center text-teal-400",children:e.jsx(ne,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold font-outfit",children:"Wearable Baselines"}),e.jsx("p",{className:"text-xs md:text-sm text-white/40",children:"Set your biometric thresholds."})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"glass p-5 rounded-[24px] border-white/5 md:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-teal-300/50 flex items-center gap-2",children:[e.jsx(it,{size:12})," Sleep Target (h)"]}),e.jsx("span",{className:"text-xl font-bold font-outfit",children:o.wearableBaselines.sleep})]}),e.jsx("input",{type:"range",min:"4",max:"12",step:"0.1",value:o.wearableBaselines.sleep,onChange:l=>n("wearableBaselines","sleep",l.target.value),className:"w-full accent-teal-500 h-2 bg-white/10 rounded-lg appearance-none cursor-pointer touch-none"})]}),e.jsxs("div",{className:"glass p-5 rounded-[24px] border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-teal-300/50 flex items-center gap-2",children:[e.jsx(ne,{size:12})," RHR Baseline (bpm)"]}),e.jsx("input",{type:"number",inputMode:"numeric",value:o.wearableBaselines.rhr,onChange:l=>n("wearableBaselines","rhr",l.target.value),className:"bg-transparent text-right font-bold font-outfit text-lg outline-none w-20 text-white"})]}),e.jsx("p",{className:"text-[10px] text-white/30",children:"Resting Heart Rate baseline."})]}),e.jsxs("div",{className:"glass p-5 rounded-[24px] border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-teal-300/50 flex items-center gap-2",children:[e.jsx(rt,{size:12})," HRV Baseline (ms)"]}),e.jsx("input",{type:"number",inputMode:"numeric",value:o.wearableBaselines.hrv,onChange:l=>n("wearableBaselines","hrv",l.target.value),className:"bg-transparent text-right font-bold font-outfit text-lg outline-none w-20 text-white"})]}),e.jsx("p",{className:"text-[10px] text-white/30",children:"Heart Rate Variability target."})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center text-emerald-400",children:e.jsx(nt,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold font-outfit",children:"Nutritional Targets"}),e.jsx("p",{className:"text-xs text-white/40",children:"Daily intake goals."})]})]}),e.jsx("div",{className:"glass p-5 rounded-[24px] border-white/5",children:e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-300/50 flex items-center gap-2",children:[e.jsx(ke,{size:12})," Protein Goal (g)"]}),e.jsx("input",{type:"number",inputMode:"numeric",value:o.manualTargets.protein,onChange:l=>n("manualTargets","protein",l.target.value),className:"bg-transparent text-right font-bold font-outfit text-lg outline-none w-20 text-white"})]})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 pb-safe bg-gradient-to-t from-[#020617] via-[#020617] to-transparent z-30 flex justify-center",children:e.jsxs("button",{onClick:h,className:"w-full max-w-2xl py-5 bg-white text-black font-black rounded-[24px] text-lg shadow-2xl active:scale-[0.98] transition-all flex items-center justify-center gap-3 font-outfit touch-manipulation",children:[e.jsx(lt,{size:20})," SAVE CALIBRATION"]})})]})}),Mt=({onComplete:t})=>{const[a,i]=r.useState(0),o=[{id:0,icon:ot,color:"text-cyan-400",bg:"bg-cyan-500/10",border:"border-cyan-500/20",shadow:"shadow-cyan-500/20",title:"Circaseptan Logic",desc:"Biology adapts in 7-day cycles. We track this precise window to align habit formation with your natural physiological tempo, minimizing resistance."},{id:1,icon:ct,color:"text-fuchsia-400",bg:"bg-fuchsia-500/10",border:"border-fuchsia-500/20",shadow:"shadow-fuchsia-500/20",title:"60-Second Sync",desc:"Low friction, high fidelity. Input your bio-markers in under a minute. You provide the raw data; the system handles the complex correlation logic."},{id:2,icon:Ee,color:"text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/20",shadow:"shadow-indigo-500/20",title:"Neural Tunnel",desc:"Our AI engine scans for 'Cognitive Drift', translating disparate metrics into actionable metabolic insights every single day."},{id:3,icon:Te,color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20",shadow:"shadow-amber-500/20",title:"Flow State",desc:"No spreadsheets. Just beautiful, liquid visualizations that show you exactly where your consistency stands at a glance."}],x=()=>{_(),a<o.length-1?i(a+1):t()},n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}},exit:{opacity:0,transition:{duration:.2}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},l={hidden:{scale:0,rotate:-45,opacity:0},visible:{scale:1,rotate:0,opacity:1,transition:{type:"spring",stiffness:200,damping:20}},float:{y:[0,-10,0],rotate:[0,3,-3,0],transition:{duration:6,repeat:1/0,ease:"easeInOut"}}};return e.jsxs("div",{className:"fixed inset-0 z-[250] flex flex-col items-center justify-center p-4 md:p-10 lg:p-14 bg-[#020617] overflow-hidden",children:[e.jsx(c.div,{animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0},className:`absolute inset-0 bg-gradient-to-br ${a===0?"from-cyan-900/20":a===1?"from-fuchsia-900/20":a===2?"from-indigo-900/20":"from-amber-900/20"} to-transparent z-0`}),e.jsx("div",{className:"w-full max-w-full relative z-10",children:e.jsx("div",{className:"mx-auto w-full rounded-[48px] border border-white/10 bg-[#020617]/70 backdrop-blur-3xl shadow-2xl p-6 md:p-14 lg:p-16 flex flex-col gap-12 items-center justify-center min-h-[75vh] md:min-h-[80vh] transition-all duration-700",children:e.jsxs("div",{className:"flex-1 w-full max-w-4xl",children:[e.jsx(L,{mode:"wait",children:e.jsxs(c.div,{variants:n,initial:"hidden",animate:"visible",exit:"exit",className:"flex flex-col items-center text-center space-y-10",children:[e.jsxs(c.div,{variants:h,className:"relative group mx-auto",children:[e.jsx(c.div,{animate:{scale:[1,1.15,1],opacity:[0,.4,0]},transition:{duration:4,repeat:1/0},className:`absolute inset-0 rounded-full blur-3xl ${o[a].bg}`}),e.jsxs(c.div,{variants:l,animate:["visible","float"],className:`
                        w-40 h-40 md:w-56 md:h-56 rounded-[50px] md:rounded-[64px] flex items-center justify-center 
                        glass border ${o[a].border} relative overflow-hidden backdrop-blur-2xl
                        shadow-[0_20px_50px_-10px_rgba(0,0,0,0.5)]
                     `,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 via-transparent to-transparent opacity-50"}),e.jsx("div",{className:"absolute bottom-0 inset-x-0 h-1/2 bg-gradient-to-t from-black/20 to-transparent"}),Xe.createElement(o[a].icon,{size:64,className:`${o[a].color} drop-shadow-[0_0_15px_rgba(255,255,255,0.3)] md:w-20 md:h-20`})]})]}),e.jsxs("div",{className:"space-y-5 px-2",children:[e.jsxs(c.div,{variants:h,className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("div",{className:`h-1 w-8 rounded-full ${o[a].bg.replace("/10","")}`}),e.jsxs("span",{className:`text-[10px] font-black uppercase tracking-[0.4em] ${o[a].color}`,children:["Phase 0",a+1]}),e.jsx("div",{className:`h-1 w-8 md:hidden rounded-full ${o[a].bg.replace("/10","")}`})]}),e.jsx(c.h2,{variants:h,className:"text-5xl md:text-7xl font-black font-outfit tracking-tighter text-white leading-[0.9]",children:o[a].title}),e.jsx(c.p,{variants:h,className:"text-indigo-200/60 text-lg md:text-xl font-medium leading-relaxed max-w-2xl",children:o[a].desc})]})]},a)}),e.jsxs("div",{className:"mt-12 md:mt-20 space-y-8",children:[e.jsx("div",{className:"flex justify-center gap-3",children:o.map((y,b)=>e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ease-[0.22,1,0.36,1] ${b===a?"w-12 bg-white":"w-2 bg-white/10"}`},b))}),e.jsxs(c.button,{whileTap:{scale:.95},whileHover:{scale:1.02},onClick:x,className:"w-full py-6 bg-white text-black font-black rounded-[32px] md:rounded-[40px] text-xl shadow-[0_0_50px_-10px_rgba(255,255,255,0.2)] flex items-center justify-center gap-3 font-outfit relative overflow-hidden group",children:[e.jsx("span",{className:"relative z-10",children:a===o.length-1?"ENTER REGISTRY":"NEXT SEQUENCE"}),a===o.length-1?e.jsx(dt,{size:24,className:"relative z-10"}):e.jsx(mt,{size:24,className:"relative z-10"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-[150%] group-hover:animate-[shimmer_1.5s_infinite]"}),e.jsx("style",{children:"@keyframes shimmer { 100% { transform: translateX(150%); } }"})]})]})]})})})]})},Bt=r.memo(({onClose:t,onUpgrade:a})=>{const i=[{icon:Ee,title:"Neural Cortex AI",desc:"Deep correlation analysis via Gemini."},{icon:ne,title:"Trend Visualization",desc:"Unlock Drift, Heatmap & Radar charts."},{icon:Te,title:"Advanced Calibration",desc:"Custom biometrics & CSV Export."}];return e.jsxs(c.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[500] bg-[#020617] flex flex-col pt-safe items-center",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-20%] w-[80vw] h-[80vw] bg-amber-500/10 blur-[100px] rounded-full"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[60vw] h-[60vw] bg-orange-600/10 blur-[80px] rounded-full"})]}),e.jsx("div",{className:"w-full max-w-2xl px-6 py-5 flex justify-end relative z-10",children:e.jsx("button",{onClick:t,className:"w-10 h-10 md:w-12 md:h-12 glass rounded-full flex items-center justify-center text-white/50 active:scale-95",children:e.jsx($,{size:24})})}),e.jsxs("div",{className:"flex-1 w-full max-w-2xl px-8 flex flex-col items-center relative z-10 overflow-y-auto",children:[e.jsxs("div",{className:"w-24 h-24 md:w-32 md:h-32 mb-8 relative mt-8",children:[e.jsx("div",{className:"absolute inset-0 bg-amber-500/30 blur-2xl rounded-full animate-pulse"}),e.jsx(oe,{className:"w-full h-full drop-shadow-[0_0_20px_rgba(245,158,11,0.5)]"}),e.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-amber-400 to-orange-500 text-black text-[10px] md:text-xs font-black px-2 py-1 md:px-3 md:py-1.5 rounded-full shadow-lg",children:"PRO"})]}),e.jsxs("h2",{className:"text-4xl md:text-6xl font-black font-outfit text-center mb-2 leading-none",children:["Unlock Total",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-orange-500",children:"Biological Clarity"})]}),e.jsx("p",{className:"text-amber-100/40 text-center text-sm md:text-lg font-medium mb-12 max-w-[260px] md:max-w-md",children:"Upgrade to Flow+ to access the Neural Cortex AI and advanced telemetry visualization."}),e.jsx("div",{className:"w-full space-y-4 mb-8",children:i.map((o,x)=>e.jsxs(c.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*x},className:"glass p-4 md:p-6 rounded-2xl md:rounded-[32px] flex items-center gap-4 border-amber-500/10",children:[e.jsx("div",{className:"w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-[20px] bg-gradient-to-br from-amber-500/20 to-orange-600/20 flex items-center justify-center text-amber-400",children:e.jsx(o.icon,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold font-outfit text-white md:text-xl",children:o.title}),e.jsx("p",{className:"text-xs md:text-sm text-white/40",children:o.desc})]})]},x))})]}),e.jsxs("div",{className:"w-full max-w-2xl p-6 pb-safe bg-gradient-to-t from-[#020617] to-transparent relative z-10 space-y-4",children:[e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-3xl md:text-4xl font-black font-outfit text-white",children:["$4.99",e.jsx("span",{className:"text-base md:text-lg text-white/30 font-bold",children:" / month"})]}),e.jsx("div",{className:"text-[10px] md:text-xs text-white/20 uppercase tracking-widest font-bold",children:"Cancel anytime"})]}),e.jsxs("button",{onClick:a,className:"w-full py-5 md:py-6 bg-gradient-to-r from-amber-400 to-orange-500 text-[#020617] font-black rounded-[32px] text-lg md:text-xl shadow-[0_10px_40px_-10px_rgba(245,158,11,0.4)] active:scale-95 transition-all flex items-center justify-center gap-3 font-outfit relative overflow-hidden group",children:[e.jsx(G,{size:24,className:"fill-black/20"}),e.jsx("span",{className:"relative z-10",children:"INITIATE UPLINK"}),e.jsx("div",{className:"absolute inset-0 bg-white/30 translate-y-full group-hover:translate-y-0 transition-transform duration-300"})]})]})]})}),Re=()=>le(()=>import("./Dashboard-BmfBOdm6.js").then(t=>t.M),__vite__mapDeps([0,1,2,3])).then(t=>({default:t.Dashboard})),Ae=()=>le(()=>import("./LogInput-BbhDQ8hC.js"),__vite__mapDeps([4,1,2,3])).then(t=>({default:t.LogInput})),Ce=()=>le(()=>import("./HistoryView-BB7haidf.js"),__vite__mapDeps([5,1,2,3])).then(t=>({default:t.HistoryView})),Ht=r.lazy(Re),Ut=r.lazy(Ae),Yt=r.lazy(Ce),ie=["Felix","Lola","Eden","Nora","Leo","Zoe"],Gt="c0aede,d1d4f9,b6e3f4,ffd5dc,ffdfbf",Vt={type:"spring",stiffness:280,damping:24,mass:1},$t=[.22,1,.36,1],re=({children:t,className:a})=>e.jsx(c.div,{initial:{opacity:0,scale:.96,y:10,filter:"blur(4px)"},animate:{opacity:1,scale:1,y:0,filter:"blur(0px)"},exit:{opacity:0,scale:1.02,filter:"blur(4px)"},transition:Vt,className:a,children:t}),Wt=()=>{const t=r.useRef(!0);r.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),r.useCallback(s=>s.slice(0,10),[]);const[a,i]=r.useState(()=>z(R.STAGE,"AUTH")),[o,x]=r.useState("DASHBOARD"),[n,h]=r.useState(()=>z(R.USER,{isAuthenticated:!1,isPremium:!0,name:"",email:"",picture:"",avatarSeed:"Felix"})),[l,y]=r.useState(()=>z(R.HISTORY,[])),[b,g]=r.useState(()=>It()),[v,w]=r.useState(!1),k=r.useMemo(()=>{if(typeof window>"u")return!1;const s=window.location.protocol;return!1||(s==="capacitor:"||s==="ionic:")},[]),[E,M]=r.useState(()=>{const s=z(R.CONFIG,A);return At(s)}),[Ie,O]=r.useState(!1),[Oe,W]=r.useState(!1),[De,q]=r.useState(!1),[ze,D]=r.useState(!1),[B,J]=r.useState(null),[K,P]=r.useState(null),[ce,de]=r.useState(!1),Z=r.useRef(!1),me=r.useRef(l.length),X=r.useRef(!1),C=r.useCallback(async(s,d={})=>{if(!n.token)throw new Error("Missing auth token");const m=new Headers(d.headers||{});return m.set("Authorization",`Bearer ${n.token}`),d.body&&!m.has("Content-Type")&&m.set("Content-Type","application/json"),fetch(s,{...d,headers:m})},[n.token]),p=r.useCallback((s,d,m="AI")=>{try{const u=s.trim().substring(0,100),S=d.trim().substring(0,500),j=te=>te.replace(/[<>\"'&]/g,""),N=j(u),T=j(S);if(!N||!T){console.warn("Notification rejected: empty title or message after sanitization");return}const f=new Date,U=new Date().toDateString(),ee=f.toDateString()===U?f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):`${f.toLocaleDateString([],{month:"short",day:"numeric"})} ${f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`,ge={id:crypto.randomUUID(),title:N,message:T,time:ee,read:!1,type:m};t.current&&(g(te=>[ge,...te.slice(0,10)]),J(ge)),Ot(m),_()}catch(u){console.error("Failed to add notification:",u);const S={id:crypto.randomUUID(),title:"System Error",message:"Failed to save notification. Please try again.",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),read:!1,type:"SYSTEM"};t.current&&(g(j=>[S,...j.slice(0,10)]),J(S))}},[]);r.useEffect(()=>{n.isPremium||h(s=>({...s,isPremium:!0}))},[n.isPremium]),r.useEffect(()=>I(R.STAGE,a),[a]),r.useEffect(()=>I(R.USER,n),[n]),r.useEffect(()=>I(R.HISTORY,l),[l]),r.useEffect(()=>I(R.NOTIFS,b),[b]),r.useEffect(()=>I(R.CONFIG,E),[E]),r.useEffect(()=>{if(!k||a!=="AUTH"||n.isAuthenticated&&n.token)return;const s={name:"Dev User",email:"dev@flow.local",avatarSeed:"Felix",picture:"https://api.dicebear.com/9.x/notionists/svg?seed=Felix&backgroundColor=c0aede,d1d4f9,b6e3f4,ffd5dc,ffdfbf",isAuthenticated:!0,isPremium:!1,token:"dev-local-token-"+Date.now()};h(s),i("ONBOARDING")},[k,a,n.isAuthenticated,n.token]),r.useEffect(()=>{l.length===0&&n.isAuthenticated&&!X.current&&(X.current=!0,p("Mock Data Active","No personal telemetry yet. Logs show mock data until you add entries.")),l.length>0&&(X.current=!1)},[l.length,n.isAuthenticated,p]);const ue=r.useMemo(()=>zt(),[]),H=r.useMemo(()=>l.length===0,[l.length]),xe=r.useMemo(()=>H?ue:l,[H,ue,l]),Le=r.useMemo(()=>b.filter(s=>!s.read).length,[b]);r.useEffect(()=>{if(a!=="MAIN"||Z.current)return;Z.current=!0;const s=new Date,d=V(s),m=new Date(s);m.setDate(m.getDate()-1);const u=V(m),S=new Date(E.streakLogic.lastFreezeReset);(s.getMonth()!==S.getMonth()||s.getFullYear()!==S.getFullYear())&&(M(T=>({...T,streakLogic:{freezesAvailable:2,lastFreezeReset:s.toISOString()}})),p("System Update","Monthly Streak Freezes replenished (2/2).","SYSTEM"));const j=l.some(T=>T.date===d);if(l.some(T=>T.date===u))j||setTimeout(()=>{t.current&&p("Protocol Pending","Log metrics to maintain streak.","SYSTEM")},2e3);else if(E.streakLogic.freezesAvailable>0&&l.length>0){const T=Dt(u,E.wearableBaselines);y(f=>[...f,T].sort((he,ee)=>new Date(he.date).getTime()-new Date(ee.date).getTime())),M(f=>({...f,streakLogic:{...f.streakLogic,freezesAvailable:f.streakLogic.freezesAvailable-1}})),setTimeout(()=>{t.current&&p("Cryostasis Activated","Missed sync detected. Streak frozen.","FREEZE")},1500)}if(!n.isPremium){const T=z("last_upsell",0),f=Date.now(),U=1440*60*1e3;f-T>U&&setTimeout(()=>{t.current&&(p("Features Locked","Deep history archive & AI analysis locked.","SYSTEM"),I("last_upsell",f))},5e3)}},[a,l,E,p,n.isPremium]),r.useEffect(()=>{a!=="MAIN"||Z.current||(l.length>me.current&&l.length>=3&&l.length%3===0&&setTimeout(()=>{t.current&&p("Neural Tunnel Ready","Sufficient data for new AI insights.","AI")},1e3),me.current=l.length)},[l,a,p]);const Pe=r.useCallback(()=>{W(!0),g(s=>s.map(d=>({...d,read:!0})))},[]),Fe=r.useCallback(()=>{_(),W(!1),D(!1),q(!1),O(!0)},[]),fe=r.useCallback(()=>{D(!1)},[]);r.useEffect(()=>{if(!n.isAuthenticated||!n.token)return;(async()=>{try{const d=await C("/api/me");if(d.ok){const u=await d.json(),S=u.user||{},j=u.config||{};h(N=>({...N,name:S.name||N.name,email:S.email||N.email,picture:S.picture||N.picture,avatarSeed:S.avatar_seed||N.avatarSeed,isPremium:!!S.is_premium,isAuthenticated:!0,token:N.token})),j.wearable_baselines&&j.manual_targets&&j.streak_logic&&M({wearableBaselines:j.wearable_baselines,manualTargets:j.manual_targets,streakLogic:j.streak_logic})}const m=await C("/api/history?limit=90");if(m.ok){const u=await m.json();Array.isArray(u.history)&&y(u.history)}a==="AUTH"&&i("MAIN")}catch(d){console.error("[sync] load failed",d)}})()},[n.isAuthenticated,n.token,C,a]);const Me=r.useCallback(async()=>{_(),w(!0);const s=`${window.location.origin}/auth/callback`,d=`/api/auth/google/start?redirect_uri=${encodeURIComponent(s)}`;console.log("[login] redirecting to",d),window.location.href=d},[]),Be=r.useCallback(()=>{h({name:"",email:"",picture:"",avatarSeed:"Felix",isAuthenticated:!1,isPremium:!1}),i("AUTH"),O(!1),Rt(),y([]),g([])},[]),He=r.useCallback(s=>{_(),(async()=>{try{n.token&&await C(`/api/history/${s}`,{method:"DELETE"})}catch(m){console.error("[history/delete] remote delete failed",m)}y(m=>m.filter(u=>u.date!==s))})(),p("Record Expunged","Telemetry entry deleted.","SYSTEM"),setTimeout(()=>{l.length<=1&&p("Mock Data Active","No personal telemetry remains. Showing mock data until you add entries.")},0)},[p,C,l,n.token]),Ue=r.useCallback((s,d)=>{if(s.isSystemGenerated){p("Access Denied","System Cryostasis logs cannot be edited.","SYSTEM");return}_(),P(s),x("LOG")},[p]),pe=r.useCallback(()=>{_();const s=V(),d=l.find(m=>m.date===s);if(d){if(d.isSystemGenerated){p("Protocol Active","System has already logged a freeze for today.","SYSTEM");return}P(d),p("Editing Active","Log for today already exists. Editing...","SYSTEM")}else P(null);x("LOG")},[l,p]),Ye=r.useCallback(s=>{(async()=>{try{if(n.token){const m=await C(`/api/history/${s.date}`,{method:"PUT",body:JSON.stringify(s)});if(m.ok){const u=await m.json();u.entry&&(s=u.entry)}}}catch(m){console.error("[history/save] remote save failed, keeping local",m)}y(m=>{let u=[...m];const S=s.date;return u=u.filter(j=>j.date!==S),u.push(s),u.sort((j,N)=>new Date(j.date).getTime()-new Date(N.date).getTime())}),P(null),Q("DASHBOARD"),p(K?"Protocol Updated":"Sync Success","Registry updated.","SYSTEM")})()},[K,p,C,n.token]),Ge=r.useCallback(()=>{if(_(),!n.isPremium){O(!1),D(!0);return}if(l.length===0)return;const s=new Date;s.setFullYear(s.getFullYear()-1);const d=l.filter(f=>new Date(f.date)>=s);if(d.length===0){p("Export Failed","No data available for export in the last year.","SYSTEM");return}const m=["Date","Sleep(h)","RHR","HRV","Protein(g)","Gut","Sun","Exertion","Cognition","Load","Status","Type"],u=d.map(f=>[f.date,f.rawValues.sleep,f.rawValues.rhr,f.rawValues.hrv,f.rawValues.protein,f.rawValues.gut,f.rawValues.sun,f.rawValues.exercise,String(f.rawValues.cognition||"STEADY").replace(/[\r\n,"]/g,""),f.symptomScore,`"${String(f.symptomName||"Unknown").replace(/"/g,'""').replace(/[\r\n]/g," ")}"`,f.isSystemGenerated?"AUTO_FREEZE":"MANUAL"]),S=[m.join(","),...u.map(f=>f.join(","))].join(`
`),j=new Blob([S],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a");N.href=URL.createObjectURL(j);const T=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);N.setAttribute("download",`flow_telemetry_${T}.csv`),document.body.appendChild(N),N.click(),document.body.removeChild(N),p("Export Complete",`${d.length} records exported as CSV.`,"SYSTEM")},[l,p,n.isPremium]),Ve=r.useCallback(()=>{_(),n.isPremium?(O(!1),q(!0)):(O(!1),D(!0))},[n.isPremium]),$e=r.useCallback(()=>{_(),setTimeout(()=>{h(s=>({...s,isPremium:!0})),D(!1),p("Uplink Established","Welcome to Flow+ Premium.","SYSTEM")},1500)},[p]),We=r.useCallback(()=>{_(),h(s=>{const m=(ie.indexOf(s.avatarSeed)+1)%ie.length,u=ie[m];return{...s,avatarSeed:u,picture:`https://api.dicebear.com/9.x/notionists/svg?seed=${u}&backgroundColor=${Gt}`}})},[]),qe=r.useCallback(s=>{const d=s.target.value;h(m=>({...m,name:d}))},[]),Je=r.useCallback(s=>{if(typeof window>"u"||!window.requestAnimationFrame){s();return}window.requestAnimationFrame(s)},[]),Q=s=>{de(!0),Je(()=>{_(),s!=="LOG"&&P(null),x(s)})};return r.useEffect(()=>{if(typeof window>"u")return;const s=new URL(window.location.href);if(s.pathname.startsWith("/auth/callback")){const d=s.searchParams.get("error"),m=s.searchParams.get("auth_payload");if(d){console.error("[auth callback] OAuth error:",d),p("Login Failed","Authentication error. Please try again.","SYSTEM"),window.history.replaceState({},"","/"),i("AUTH");return}if(m)try{const u=JSON.parse(atob(m.replace(/-/g,"+").replace(/_/g,"/")));h({name:u.name||"",email:u.email||"",avatarSeed:u.avatarSeed||"Felix",picture:u.picture||"",isAuthenticated:!0,isPremium:!!u.isPremium,token:u.token}),i("ONBOARDING")}catch(u){console.error("[auth callback] decode error",u),p("Login Failed","Could not process login. Please try again.","SYSTEM"),i("AUTH")}else p("Login Failed","No authentication data received.","SYSTEM"),i("AUTH");window.history.replaceState({},"","/")}},[p]),r.useEffect(()=>{Re(),Ae(),Ce()},[]),r.useEffect(()=>{if(!ce)return;const s=setTimeout(()=>de(!1),220);return()=>clearTimeout(s)},[ce,o]),a==="AUTH"?e.jsxs("div",{className:"fixed inset-0 z-[300] bg-[#020617] flex flex-col justify-center items-center overflow-hidden",children:[e.jsx(Ne,{}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-40",children:[e.jsx(c.div,{animate:{rotate:360},transition:{duration:60,ease:"linear",repeat:1/0},className:"w-[80vw] h-[80vw] max-w-[600px] max-h-[600px] border border-dashed border-teal-500/20 rounded-full"}),e.jsx(c.div,{animate:{rotate:-360},transition:{duration:40,ease:"linear",repeat:1/0},className:"absolute w-[60vw] h-[60vw] max-w-[450px] max-h-[450px] border border-dotted border-cyan-500/20 rounded-full"}),e.jsx(c.div,{animate:{scale:[1,1.2,1],opacity:[.1,.3,.1]},transition:{duration:4,ease:"easeInOut",repeat:1/0},className:"absolute w-[40vw] h-[40vw] bg-teal-500/10 blur-[60px] rounded-full"})]}),e.jsxs("div",{className:"relative z-10 w-full max-w-sm mx-auto flex flex-col items-center justify-center min-h-[60vh] space-y-16 p-8",children:[e.jsxs(c.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.2},className:"relative group",children:[e.jsx("div",{className:"absolute -inset-4 bg-gradient-to-tr from-teal-500/20 to-cyan-500/20 rounded-full blur-xl group-hover:blur-2xl transition-all duration-700 opacity-60"}),e.jsxs("div",{className:"w-32 h-32 bg-[#020617]/50 rounded-[40px] flex items-center justify-center shadow-2xl border border-white/10 backdrop-blur-xl relative z-10 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent translate-x-[-150%] group-hover:translate-x-[150%] transition-transform duration-1000 ease-in-out"}),e.jsx(oe,{className:"w-20 h-20 drop-shadow-[0_0_15px_rgba(20,184,166,0.5)] transition-transform duration-700 group-hover:scale-110 group-hover:rotate-3"})]}),e.jsx("div",{className:"absolute -top-12 left-1/2 w-[1px] h-12 bg-gradient-to-b from-transparent to-teal-500/50"}),e.jsx("div",{className:"absolute -bottom-12 left-1/2 w-[1px] h-12 bg-gradient-to-t from-transparent to-cyan-500/50"})]}),e.jsxs("div",{className:"space-y-6 text-center relative z-20",children:[e.jsx("div",{className:"flex justify-center items-end gap-1 h-40",children:["F","l","o","w"].map((s,d)=>e.jsx(c.span,{initial:{y:120,opacity:0,filter:"blur(20px)",rotateX:90},animate:{y:0,opacity:1,filter:"blur(0px)",rotateX:0},transition:{duration:1.4,delay:.4+d*.12,type:"spring",bounce:.5,stiffness:150,damping:15},className:"inline-block text-[10rem] font-black font-outfit leading-none tracking-normal text-transparent bg-clip-text bg-gradient-to-b from-white via-teal-200 to-teal-600 drop-shadow-[0_10px_30px_rgba(20,184,166,0.6)] select-none relative pb-4",style:{WebkitTextStroke:"2px rgba(255,255,255,0.1)",zIndex:4-d},children:s},d))}),e.jsxs(c.div,{initial:{opacity:0,letterSpacing:"0.5em",y:20},animate:{opacity:1,letterSpacing:"0.25em",y:0},transition:{delay:1.8,duration:1.2,type:"spring"},className:"flex items-center justify-center gap-3 text-teal-200/40 text-xs font-bold uppercase tracking-widest mt-4",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse shadow-[0_0_10px_#34d399]"}),"Biological Telemetry System"]})]}),e.jsxs(c.button,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{delay:1.2,type:"spring"},whileHover:{scale:v||k?1:1.05},whileTap:{scale:v||k?1:.98},onClick:Me,disabled:k||v,className:"w-full py-6 bg-white text-[#020617] font-black rounded-[32px] text-xl shadow-[0_0_40px_-10px_rgba(255,255,255,0.3)] flex items-center justify-center gap-4 font-outfit relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-50/0 via-teal-50/50 to-teal-50/0 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-700 ease-in-out"}),e.jsx("span",{className:"relative z-10 flex items-center gap-3",children:v?e.jsxs(e.Fragment,{children:[e.jsx(c.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-3 border-teal-600 border-t-transparent rounded-full"})," CONNECTING..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ut,{size:24,className:"text-teal-600"})," INITIALIZE LINK"]})})]}),k&&e.jsx("div",{className:"text-center text-[10px] uppercase tracking-[0.3em] text-white/20 font-black",children:"Local Dev: Login bypassed"})]}),e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"absolute bottom-10 left-0 right-0 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"flex gap-1",children:[0,1,2].map(s=>e.jsx(c.div,{animate:{opacity:[.2,1,.2]},transition:{duration:1.5,repeat:1/0,delay:s*.2},className:"w-1 h-1 bg-teal-500 rounded-full"},s))}),e.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-white/20 font-black",children:"Secure Neural Uplink v4.01"})]})]}):a==="ONBOARDING"?e.jsx(Mt,{onComplete:()=>{i("DISCLAIMER"),_()}}):a==="DISCLAIMER"?e.jsxs("div",{className:"fixed inset-0 z-[200] bg-[#020617] p-8 flex flex-col justify-center items-center text-center overflow-hidden",children:[e.jsx(Ne,{}),e.jsxs(c.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},className:"relative z-10 space-y-10 max-w-sm w-full",children:[e.jsxs(c.div,{variants:{hidden:{scale:0,rotate:180},visible:{scale:1,rotate:0,transition:{type:"spring",stiffness:200,damping:15}}},className:"relative mx-auto w-32 h-32",children:[e.jsx("div",{className:"absolute inset-0 bg-teal-500/20 rounded-full animate-ping"}),e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-teal-500 to-teal-700 rounded-[48px] flex items-center justify-center shadow-[0_0_50px_rgba(20,184,166,0.4)] border border-white/10 relative z-10",children:[e.jsx(xt,{size:64,className:"text-white drop-shadow-lg"}),e.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 bg-rose-500 rounded-full border-2 border-[#020617] animate-pulse"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.h1,{variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring"}}},className:"text-5xl font-black font-outfit tracking-tighter text-white leading-none",children:["Neural",e.jsx("br",{}),"Mandate"]}),e.jsxs(c.p,{variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},className:"text-teal-200/60 text-lg font-medium leading-relaxed px-4",children:["Telemetry analysis is algorithmic. Registry data is ",e.jsx("span",{className:"text-white font-bold",children:"non-clinical"}),". Proceed with biological autonomy."]})]}),e.jsxs(c.button,{variants:{hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",bounce:.4}}},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{_(),i("MAIN"),p("Tunnel Link Active","Biometric sync verified.","SYSTEM")},className:"w-full py-8 bg-white text-black font-black rounded-[40px] text-xl shadow-[0_0_60px_-15px_rgba(255,255,255,0.3)] active:scale-95 font-outfit group relative overflow-hidden",children:[e.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[e.jsx(ft,{size:24,className:"text-teal-600"})," ACKNOWLEDGE"]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-teal-200/50 to-transparent -translate-x-full group-hover:animate-[scan_1.5s_infinite]"}),e.jsx("style",{children:"@keyframes scan { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }"})]})]}),e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 text-[10px] font-black uppercase tracking-[0.3em] text-white/20",children:"Protocol v4.01"})]}):e.jsxs("div",{className:"max-w-md md:max-w-4xl lg:max-w-6xl mx-auto min-h-screen bg-[#020617] text-white font-quicksand overflow-x-hidden selection:bg-teal-500/30",children:[e.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",role:"status",children:B&&`${B.title}: ${B.message}`}),e.jsx(Lt,{user:n,unreadCount:Le,onOpenNotifs:Pe,onOpenProfile:Fe}),e.jsx(Pt,{notification:B,onDismiss:()=>J(null)}),e.jsx(L,{children:ze&&e.jsx(Bt,{onClose:()=>D(!1),onUpgrade:$e})}),e.jsxs(L,{mode:"wait",children:[o==="DASHBOARD"&&e.jsx(re,{className:"relative z-10",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(c.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full"})}),children:e.jsx(Ht,{history:xe,config:E,onAddNotif:p,isMockData:H,user:n,onTriggerPaywall:fe,onLogToday:pe})})},"dashboard"),o==="LOG"&&e.jsx(re,{className:"relative z-10",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(c.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full"})}),children:e.jsx(Ut,{config:E,initialData:K,onSave:Ye})})},"log"),o==="HISTORY"&&e.jsx(re,{className:"relative z-10",children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(c.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-teal-500 border-t-transparent rounded-full"})}),children:e.jsx(Yt,{history:xe,isMockData:H,onDelete:He,onEdit:Ue,isPremium:n.isPremium,onTriggerPaywall:fe})})},"history")]}),e.jsxs(L,{children:[De&&e.jsx(Ft,{config:E,onSave:async s=>{if(M(s),n.token)try{await C("/api/config",{method:"PUT",body:JSON.stringify({wearable_baselines:s.wearableBaselines,manual_targets:s.manualTargets,streak_logic:s.streakLogic})})}catch(d){console.error("[config] save failed",d)}p("Protocol Updated","New baselines established.","SYSTEM")},onClose:()=>q(!1)}),Ie&&e.jsxs(c.div,{initial:{x:"100%",opacity:.5},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200,mass:.8},className:"fixed inset-0 z-[400] bg-[#020617]/95 backdrop-blur-[50px] p-6 pt-safe flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-black font-outfit tracking-tighter",children:"Profile"}),e.jsx("button",{onClick:()=>O(!1),"aria-label":"Close profile",className:"w-12 h-12 glass rounded-2xl flex items-center justify-center text-white/50",children:e.jsx($,{size:24})})]}),e.jsxs("div",{className:"space-y-8 flex-1 overflow-y-auto scrollbar-hide",children:[e.jsxs("div",{className:"glass p-6 rounded-[32px] border-white/5 shadow-xl relative overflow-hidden flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[e.jsxs("button",{onClick:We,"aria-label":"Change avatar",className:"w-20 h-20 rounded-[28px] overflow-hidden border-2 border-teal-500/30 relative group flex-shrink-0 active:scale-95 transition-all",children:[e.jsx("img",{src:n.picture,alt:"Avatar",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(pt,{size:20,className:"text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 group",children:[e.jsx("input",{value:n.name,onChange:qe,className:"bg-transparent text-2xl font-bold font-outfit text-white outline-none w-full placeholder:text-white/30 border-b border-transparent focus:border-teal-500/50 transition-all p-0"}),e.jsx(ht,{size:12,className:"text-white/20 group-hover:text-white/50 transition-colors"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-teal-300/40 font-medium text-sm truncate",children:n.email}),n.isPremium&&e.jsx("span",{className:"bg-amber-500 text-black text-[9px] font-black px-1.5 py-0.5 rounded-full shrink-0",children:"PRO"})]})]})]}),n.isPremium&&e.jsx("div",{className:"absolute top-[-50%] right-[-50%] w-[100%] h-[200%] bg-amber-500/10 blur-[50px] rotate-45 pointer-events-none"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-teal-400/50 mb-2 px-2",children:"Configuration"}),!n.isPremium&&e.jsxs("button",{onClick:()=>{O(!1),D(!0)},className:"w-full p-6 bg-gradient-to-r from-amber-400 to-orange-500 rounded-[30px] flex items-center justify-between shadow-[0_10px_30px_-10px_rgba(245,158,11,0.3)] active:scale-95 transition-all group overflow-hidden relative",children:[e.jsxs("div",{className:"flex items-center gap-4 relative z-10 text-black",children:[e.jsx("div",{className:"w-10 h-10 bg-black/10 rounded-xl flex items-center justify-center",children:e.jsx(G,{size:20})}),e.jsx("span",{className:"font-bold font-outfit",children:"Upgrade to Flow+"})]}),e.jsx("div",{className:"absolute inset-0 bg-white/30 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]}),e.jsxs("button",{onClick:Ve,className:"w-full p-6 glass rounded-[30px] flex items-center justify-between border-white/5 hover:bg-white/5 transition-all group active:scale-95",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500/20 rounded-xl flex items-center justify-center text-teal-400",children:e.jsx(ke,{size:20})}),e.jsx("span",{className:"font-bold font-outfit",children:"Goals & Baselines"})]}),!n.isPremium&&e.jsxs("div",{className:"w-6 h-6 rounded-full bg-white/5 flex items-center justify-center",children:[e.jsx(be,{size:12,className:"opacity-0"}),e.jsx(G,{size:12,className:"text-amber-500"})]})]}),e.jsxs("button",{onClick:Ge,className:"w-full p-6 glass rounded-[30px] flex items-center justify-between border-white/5 hover:bg-white/5 transition-all group active:scale-95",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500/20 rounded-xl flex items-center justify-center text-teal-400",children:e.jsx(gt,{size:20})}),e.jsx("span",{className:"font-bold font-outfit",children:"Export Telemetry"})]}),n.isPremium?e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-30",children:"CSV"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-white/5 flex items-center justify-center",children:e.jsx(G,{size:12,className:"text-amber-500"})})]})]})]}),e.jsxs("button",{onClick:Be,className:"w-full py-6 bg-rose-500/10 text-rose-500 font-black rounded-[30px] text-lg flex items-center justify-center gap-3 active:scale-95 mb-safe",children:[e.jsx(bt,{size:20})," DISCONNECT"]})]}),Oe&&e.jsxs(c.div,{initial:{y:"-100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-100%",opacity:0},transition:{duration:.5,ease:$t},className:"fixed inset-0 z-[400] bg-[#020617]/95 backdrop-blur-[50px] p-6 pt-safe flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-500/20 rounded-xl flex items-center justify-center text-amber-500",children:e.jsx(yt,{size:20})}),e.jsx("h2",{className:"text-2xl font-black font-outfit tracking-tighter",children:"Insights"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>g([]),className:"w-10 h-10 glass rounded-xl flex items-center justify-center text-rose-500/50 active:scale-90 transition-transform",children:e.jsx(be,{size:20})}),e.jsx("button",{onClick:()=>W(!1),className:"w-10 h-10 glass rounded-xl flex items-center justify-center text-white/50 active:scale-90 transition-transform",children:e.jsx($,{size:20})})]})]}),e.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto scrollbar-hide pb-24",children:b.length===0?e.jsxs("div",{className:"text-center py-20 opacity-10",children:[e.jsx(Se,{size:48,className:"mx-auto mb-4"}),e.jsx("p",{className:"text-sm uppercase tracking-widest font-black",children:"No Active Insights"})]}):e.jsx(L,{children:b.map((s,d)=>e.jsxs(c.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:(m,u)=>{const N=m.target.offsetWidth;Math.abs(u.offset.x)>N*.5&&g(T=>T.filter(f=>f.id!==s.id))},initial:{opacity:0,y:20},animate:{opacity:1,y:0,x:0},exit:{opacity:0,x:-300,scale:.8},transition:{delay:d*.05,exit:{duration:.3,ease:"easeOut"},drag:{duration:.2}},className:`glass p-6 rounded-[30px] border-white/5 space-y-2 shadow-lg cursor-grab active:cursor-grabbing ${s.read?"":"border-l-4 border-l-teal-500"}`,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:`text-[8px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full ${s.type==="AI"?"bg-indigo-500/20 text-indigo-400":s.type==="FREEZE"?"bg-cyan-500/20 text-cyan-400":s.type==="STREAK"?"bg-amber-500/20 text-amber-500":"bg-emerald-500/20 text-emerald-400"}`,children:[s.type," Insight"]}),e.jsx("span",{className:"text-[9px] text-white/10",children:s.time})]}),e.jsx("h4",{className:"text-lg font-bold font-outfit",children:s.title}),e.jsx("p",{className:"text-teal-200/30 text-xs leading-relaxed",children:s.message})]},s.id))})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] pb-safe pointer-events-none",children:e.jsx(c.nav,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:25,stiffness:250,delay:.1},className:"mx-4 mb-4 pointer-events-auto",children:e.jsxs("div",{className:"relative bg-gradient-to-b from-[#0f172a]/98 to-[#0a0f1e]/98 backdrop-blur-2xl rounded-3xl shadow-[0_-8px_32px_-8px_rgba(0,0,0,0.6),0_0_0_1px_rgba(255,255,255,0.06)] border border-white/[0.06] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-teal-500/[0.03] to-transparent pointer-events-none"}),e.jsx(c.div,{className:"absolute top-2 h-1 rounded-full bg-gradient-to-r from-teal-400 to-cyan-400",animate:{left:o==="DASHBOARD"?"8px":o==="HISTORY"?"calc(66.66% + 4px)":"calc(33.33% + 2px)",width:o==="DASHBOARD"||o==="HISTORY"?"calc(33.33% - 12px)":"calc(33.33% - 8px)"},transition:{type:"spring",damping:30,stiffness:400}}),e.jsxs("div",{className:"flex items-stretch justify-around pt-4 pb-3 px-2",children:[e.jsxs(c.button,{onClick:()=>Q("DASHBOARD"),whileTap:{scale:.9},className:"flex-1 flex flex-col items-center justify-center gap-2 min-h-[60px] active:bg-white/5 rounded-2xl transition-colors",children:[o==="DASHBOARD"&&e.jsx(c.div,{layoutId:"activeGlow",className:"absolute inset-0 bg-teal-500/10 rounded-2xl",transition:{type:"spring",damping:20,stiffness:300}}),e.jsx(wt,{size:26,className:`relative z-10 transition-all duration-200 ${o==="DASHBOARD"?"text-teal-400 drop-shadow-[0_0_12px_rgba(20,184,166,0.8)]":"text-white/40"}`,strokeWidth:o==="DASHBOARD"?2.5:2}),e.jsx("span",{className:`text-xs font-bold tracking-wide transition-all duration-200 ${o==="DASHBOARD"?"text-teal-400":"text-white/30"}`,children:"Flow"})]}),e.jsxs(c.button,{onClick:pe,whileTap:{scale:.88},className:"flex-1 flex flex-col items-center justify-center gap-2 min-h-[60px] active:bg-white/5 rounded-2xl transition-colors",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-3 bg-gradient-to-br from-teal-500/40 to-cyan-500/40 rounded-2xl blur-lg"}),e.jsxs("div",{className:"relative w-14 h-14 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-2xl flex items-center justify-center shadow-[0_4px_24px_-4px_rgba(20,184,166,0.6)] border border-white/20",children:[e.jsx(vt,{size:30,strokeWidth:2.5,className:"text-white"}),e.jsx("div",{className:"absolute inset-[1px] bg-gradient-to-br from-white/30 to-transparent rounded-[14px] opacity-40"})]})]}),e.jsx("span",{className:"text-xs font-bold text-white/40 tracking-wide",children:"Add"})]}),e.jsxs(c.button,{onClick:()=>Q("HISTORY"),whileTap:{scale:.9},className:"flex-1 flex flex-col items-center justify-center gap-2 min-h-[60px] active:bg-white/5 rounded-2xl transition-colors",children:[o==="HISTORY"&&e.jsx(c.div,{layoutId:"activeGlow",className:"absolute inset-0 bg-teal-500/10 rounded-2xl",transition:{type:"spring",damping:20,stiffness:300}}),e.jsx(jt,{size:26,className:`relative z-10 transition-all duration-200 ${o==="HISTORY"?"text-teal-400 drop-shadow-[0_0_12px_rgba(20,184,166,0.8)]":"text-white/40"}`,strokeWidth:o==="HISTORY"?2.5:2}),e.jsx("span",{className:`text-xs font-bold tracking-wide transition-all duration-200 ${o==="HISTORY"?"text-teal-400":"text-white/30"}`,children:"Logs"})]})]})]})})})]})},qt=_t.createRoot(document.getElementById("root"));qt.render(e.jsx(Wt,{}));export{le as _,Xt as c,V as g,e as j,_ as t};
