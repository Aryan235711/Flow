import{t as h,c as x,g as v,j as e}from"./index-D41CZrVg.js";import{r as g,m as d}from"./motion-d9bwDdYN.js";import{T as k,f as u,Z as S,G as E,E as C,N as $,z as L,K as M,w as R}from"./icons-DTWWE7WE.js";import"./react-vendor-DoSVpXge.js";const B=g.memo(({config:o,onSave:m,initialData:i})=>{const b={sleep:"07:30",rhr:"65",hrv:"50",protein:"80",gut:4,sun:"Full",exercise:"Medium",cognition:"STEADY",symptomScore:1,symptomName:""},[a,r]=g.useState(b);g.useEffect(()=>{const t={sleep:"",rhr:"",hrv:"",protein:"",gut:0,sun:0,exercise:0,cognition:0,symptomScore:0,symptomName:""};if(i){const s=Math.floor(i.rawValues.sleep),l=Math.round((i.rawValues.sleep-s)*60),n=`${s.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`;r({sleep:n,rhr:i.rawValues.rhr.toString(),hrv:i.rawValues.hrv.toString(),protein:i.rawValues.protein.toString(),gut:i.rawValues.gut,sun:i.rawValues.sun,exercise:i.rawValues.exercise,cognition:i.rawValues.cognition,symptomScore:i.symptomScore,symptomName:i.symptomName})}else r(t)},[i]);const f=t=>{const s=t.replace(/\D/g,"");let l=s;s.length>4||(s.length>2&&(l=`${s.slice(0,2)}:${s.slice(2)}`),r(n=>({...n,sleep:l})))},c=(t,s)=>{h(),r(l=>({...l,[t]:s}))},w=g.useCallback(()=>{h();const t=a.symptomName.trim()||`Log ${new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;let[s,l]=a.sleep.split(":").map(j=>parseInt(j||"0",10));isNaN(s)&&(s=7),isNaN(l)&&(l=0),s=Math.min(23,Math.max(0,s)),l=Math.min(59,Math.max(0,l));const n=s+l/60,y={sleep:x(n,o.wearableBaselines.sleep),rhr:x(parseInt(a.rhr)||60,o.wearableBaselines.rhr,!0),hrv:x(parseInt(a.hrv)||50,o.wearableBaselines.hrv),protein:x(parseInt(a.protein)||80,o.manualTargets.protein),gut:a.gut<=2?"RED":a.gut===3?"YELLOW":"GREEN",sun:a.sun==="None"?"RED":a.sun==="Partial"?"YELLOW":"GREEN",exercise:a.exercise==="None"?"RED":a.exercise==="Hard"?"GREEN":"YELLOW"};m({date:(i==null?void 0:i.date)||v(),rawValues:{...a,sleep:n,rhr:parseInt(a.rhr)||60,hrv:parseInt(a.hrv)||50,protein:parseInt(a.protein)||80},processedState:y,symptomScore:a.symptomScore,symptomName:t})},[a,o,m,i]),N=[{id:"PEAK",label:"Peak",icon:S,bg:"bg-teal-500",text:"text-white"},{id:"STEADY",label:"Steady",icon:u,bg:"bg-emerald-500",text:"text-white"},{id:"FOGGY",label:"Foggy",icon:E,bg:"bg-slate-500",text:"text-white"},{id:"DRAINED",label:"Drained",icon:C,bg:"bg-rose-500",text:"text-white"}],p={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:200,damping:20}}};return e.jsxs(d.div,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.08}}},className:"px-5 pb-40 pt-24 md:pt-32 space-y-10",children:[e.jsxs("header",{className:"px-2 md:px-0",children:[e.jsx("h2",{className:"text-teal-400/50 text-[10px] md:text-xs font-black uppercase tracking-[0.4em] mb-2 font-outfit",children:"Biological Registry"}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black font-outfit tracking-tighter text-white",children:i?"Update":"Sync"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(d.section,{variants:p,className:"glass rounded-[32px] p-6 md:p-8 space-y-6 border-white/5 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{size:20,className:"text-teal-400"}),e.jsx("h3",{className:"text-[11px] font-black text-teal-300/40 uppercase tracking-[0.3em] font-outfit",children:"Neural Load"})]}),e.jsx("div",{className:"flex justify-between gap-2 p-1.5 bg-white/5 rounded-[24px]",role:"radiogroup","aria-label":"Load intensity",children:[1,2,3,4,5].map(t=>{const s=["bg-red-500","bg-orange-500","bg-yellow-500","bg-lime-500","bg-green-500"];return e.jsx("button",{onClick:()=>c("symptomScore",t),className:`flex-1 h-14 rounded-[18px] font-black text-lg transition-all active:scale-95 touch-manipulation ${a.symptomScore===t?`${s[t-1]} text-white shadow-lg scale-105`:"text-teal-300/20"}`,children:t},t)})}),e.jsx("input",{placeholder:"Log Name (Optional)",value:a.symptomName,onChange:t=>r(s=>({...s,symptomName:t.target.value})),className:"w-full bg-white/5 p-6 rounded-[24px] outline-none border border-white/5 focus:border-indigo-500/50 focus:bg-white/10 transition-all font-bold text-white text-xl placeholder:text-white/20"})]}),e.jsxs(d.section,{variants:p,className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"glass rounded-[28px] p-6 text-center border-white/5 shadow-lg relative overflow-hidden group focus-within:ring-2 ring-indigo-500/30 transition-all",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none"}),e.jsx("label",{className:"text-[10px] font-black text-indigo-400/30 uppercase mb-3 block font-outfit tracking-widest",children:"Sleep (HH:MM)"}),e.jsx("input",{type:"text",inputMode:"decimal",value:a.sleep,onChange:t=>f(t.target.value),className:"w-full bg-transparent text-center text-3xl font-bold font-outfit outline-none text-white placeholder:text-white/10",placeholder:"00:00"})]}),[{k:"rhr",l:"RHR",t:"numeric"},{k:"hrv",l:"HRV",t:"numeric"},{k:"protein",l:"Protein (g)",t:"numeric"}].map(t=>e.jsxs("div",{className:"glass rounded-[28px] p-6 text-center border-white/5 shadow-lg relative overflow-hidden group focus-within:ring-2 ring-indigo-500/30 transition-all",children:[e.jsx("div",{className:"absolute inset-0 bg-indigo-500/5 opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none"}),e.jsx("label",{className:"text-[10px] font-black text-indigo-400/30 uppercase mb-3 block font-outfit tracking-widest",children:t.l}),e.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*",value:a[t.k],onChange:s=>r(l=>({...l,[t.k]:s.target.value})),className:"w-full bg-transparent text-center text-3xl font-bold font-outfit outline-none text-white placeholder:text-white/10"})]},t.k))]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs(d.section,{variants:p,className:"glass rounded-[32px] p-8 space-y-8 border-white/5 shadow-xl h-full flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("label",{className:"text-[10px] font-black text-indigo-200/40 uppercase tracking-[0.2em] flex items-center gap-2",children:[e.jsx(u,{size:14})," Cognitive State"]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:N.map(t=>e.jsxs("button",{onClick:()=>c("cognition",t.id),className:`
                      relative p-5 rounded-[24px] flex flex-col items-center gap-3 transition-all overflow-hidden active:scale-95 touch-manipulation
                      ${a.cognition===t.id?`${t.bg} ${t.text} shadow-xl scale-[1.02]`:"bg-white/5 text-white/30 hover:bg-white/10"}
                    `,children:[e.jsx(t.icon,{size:24}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest",children:t.label})]},t.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"text-[10px] font-black text-indigo-200/40 uppercase tracking-widest flex items-center gap-2",children:[e.jsx($,{size:14})," Gut Stability"]}),e.jsxs("span",{className:"text-indigo-400 font-bold",children:[a.gut,"/5"]})]}),e.jsx("div",{className:"flex justify-between gap-2 p-1.5 bg-white/5 rounded-[24px]",children:[1,2,3,4,5].map(t=>{const s=["bg-red-500","bg-orange-500","bg-yellow-500","bg-lime-500","bg-green-500"];return e.jsx("button",{onClick:()=>c("gut",t),className:`flex-1 h-12 rounded-[18px] font-black text-lg transition-all active:scale-95 touch-manipulation ${a.gut===t?`${s[t-1]} text-white shadow-lg scale-105`:"text-indigo-300/20"}`,children:t},t)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"text-[10px] font-black text-indigo-200/40 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(L,{size:14})," Solar Capture"]}),e.jsx("div",{className:"flex gap-3",children:["None","Partial","Full"].map((t,s)=>{const l=["bg-red-500","bg-yellow-500","bg-green-500"];return e.jsx("button",{onClick:()=>c("sun",t),className:`flex-1 py-4 rounded-2xl text-[11px] font-black transition-all active:scale-95 touch-manipulation ${a.sun===t?`${l[s]} text-white shadow-lg`:"bg-white/5 text-white/30"}`,children:t.toUpperCase()},t)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"text-[10px] font-black text-indigo-200/40 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(M,{size:14})," Exertion"]}),e.jsx("div",{className:"flex gap-3",children:["None","Low","Medium","Hard"].map((t,s)=>{const l=["bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500"];return e.jsx("button",{onClick:()=>c("exercise",t),className:`flex-1 py-4 rounded-2xl text-[11px] font-black transition-all active:scale-95 touch-manipulation ${a.exercise===t?`${l[s]} text-white shadow-lg`:"bg-white/5 text-white/30"}`,children:t.toUpperCase()},t)})})]})]})})]}),e.jsxs(d.button,{variants:p,whileTap:{scale:.95},onClick:w,className:"w-full py-8 md:py-10 bg-gradient-to-r from-indigo-500 to-fuchsia-600 text-white font-black rounded-[32px] md:rounded-[40px] text-xl md:text-2xl shadow-2xl transition-all font-outfit uppercase tracking-wider relative overflow-hidden touch-manipulation flex items-center justify-center gap-4",children:[e.jsx("span",{className:"relative z-10",children:i?"UPDATE ENTRY":"COMMIT BIOMETRIC BASELINE"}),i&&e.jsx(R,{size:24,className:"relative z-10"}),e.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity"})]})]})});export{B as LogInput};
